{"paragraphs":[{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481790079579_361440828","id":"20161215-092119_1650662915","dateCreated":"2016-12-15T09:21:19+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1752","text":"import org.apache.spark.sql.Dataset\nimport org.apache.spark.ml.feature.Tokenizer\nimport org.apache.spark.ml.feature.StopWordsRemover\nimport org.apache.spark.ml.feature.HashingTF\n\nval tokenizer = new Tokenizer()\n   .setInputCol(\"text\")\n   .setOutputCol(\"words\")\n\nval remover = new StopWordsRemover()\n  .setInputCol(tokenizer.getOutputCol)\n  .setOutputCol(\"noStopWords\")\n\nval hashingTF = new HashingTF()\n  .setInputCol(remover.getOutputCol)\n  .setOutputCol(\"features\")\n  .setNumFeatures(100)\n/*\nimport org.apache.spark.ml.feature.Word2Vec\nval word2Vec = new Word2Vec()\n  .setInputCol(\"noStopWords\")\n  .setOutputCol(\"features\")\n  .setVectorSize(100)\n  .setMinCount(0)\n*/\ndef featurize(dataset: Dataset[SentimentText]) = {\n    val words = tokenizer.transform(dataset)\n    val noStopWords = remover.transform(words)\n    hashingTF.transform(noStopWords)\n/*\n    val model = word2Vec.fit(noStopWords)\n    model.transform(noStopWords)\n*/\n}","dateUpdated":"2016-12-15T09:21:39+0100","dateFinished":"2016-12-15T09:21:40+0100","dateStarted":"2016-12-15T09:21:39+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.sql.Dataset\n\nimport org.apache.spark.ml.feature.Tokenizer\n\nimport org.apache.spark.ml.feature.StopWordsRemover\n\nimport org.apache.spark.ml.feature.HashingTF\n\ntokenizer: org.apache.spark.ml.feature.Tokenizer = tok_00742451cf94\n\nremover: org.apache.spark.ml.feature.StopWordsRemover = stopWords_92e517e8c50f\n\nhashingTF: org.apache.spark.ml.feature.HashingTF = hashingTF_cb4fdee2ad79\n\nfeaturize: (dataset: org.apache.spark.sql.Dataset[SentimentText])org.apache.spark.sql.DataFrame\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481790099902_284506372","id":"20161215-092139_807903820","dateCreated":"2016-12-15T09:21:39+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1824","dateUpdated":"2016-12-15T09:21:49+0100","dateFinished":"2016-12-15T09:21:50+0100","dateStarted":"2016-12-15T09:21:49+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.ml.linalg.Vector\n\nmlf: org.apache.spark.sql.DataFrame = [id: int, label: double ... 5 more fields]\n+---+-----+---------+--------------------+--------------------+--------------------+--------------------+\n| id|label|sentiment|                text|               words|         noStopWords|            features|\n+---+-----+---------+--------------------+--------------------+--------------------+--------------------+\n|  1|  0.0| NEGATIVE|is so sad for my ...|[is, so, sad, for...|[sad, apl, friend...|(100,[60,75,93],[...|\n|  2|  0.0| NEGATIVE|I missed the New ...|[i, missed, the, ...|[missed, new, moo...|(100,[9,15,25,81]...|\n|  3|  1.0| POSITIVE|omg its already 7...|[omg, its, alread...|[omg, already, 7:...|(100,[43,57,59,84...|\n|  5|  0.0| NEGATIVE|i think mi bf is ...|[i, think, mi, bf...|[think, mi, bf, c...|(100,[64,65,69,72...|\n|  6|  0.0| NEGATIVE|or i just worry t...|[or, i, just, wor...|      [worry, much?]|(100,[58,62],[1.0...|\n|  7|  1.0| POSITIVE|Juuuuuuuuuuuuuuuu...|[juuuuuuuuuuuuuuu...|[juuuuuuuuuuuuuuu...|(100,[49,90],[1.0...|\n|  8|  0.0| NEGATIVE|Sunny Again      ...|[sunny, again, , ...|[sunny, , , , , ,...|(100,[1,18,25,27,...|\n|  9|  1.0| POSITIVE|handed in my unif...|[handed, in, my, ...|[handed, uniform,...|(100,[56,57,62,71...|\n| 13|  0.0| NEGATIVE|this weekend has ...|[this, weekend, h...|[weekend, sucked,...|(100,[2,86,90],[1...|\n| 14|  0.0| NEGATIVE|jb isnt showing i...|[jb, isnt, showin...|[jb, isnt, showin...|(100,[2,16,17,43,...|\n| 15|  0.0| NEGATIVE|ok thats it you win.|[ok, thats, it, y...|   [ok, thats, win.]|(100,[36,50,84],[...|\n| 16|  0.0| NEGATIVE|&lt;-------- This...|[&lt;--------, th...|[&lt;--------, wa...|(100,[0,15,59,74]...|\n| 17|  0.0| NEGATIVE|\"    awhhe man......|[\", , , , awhhe, ...|[\", , , , awhhe, ...|(100,[2,6,31,33,3...|\n| 18|  1.0| POSITIVE|Feeling strangely...|[feeling, strange...|[feeling, strange...|(100,[35,41,62,63...|\n| 19|  0.0| NEGATIVE|HUGE roll of thun...|[huge, roll, of, ...|[huge, roll, thun...|(100,[13,14,74,86...|\n| 20|  0.0| NEGATIVE|I just cut my bea...|[i, just, cut, my...|[cut, beard, off....|(100,[27,37,41,47...|\n| 21|  0.0| NEGATIVE|Very sad about Iran.|[very, sad, about...|        [sad, iran.]|(100,[60,78],[1.0...|\n| 23|  1.0| POSITIVE|You're the only o...|[you're, the, onl...|[you're, one, see...|(100,[15,32,34,44...|\n| 25|  0.0| NEGATIVE|...  Headed to Ho...|[..., , headed, t...|[..., , headed, h...|(100,[0,11,25,26,...|\n| 26|  0.0| NEGATIVE|BoRinG   ): whats...|[boring, , , ):, ...|[boring, , , ):, ...|(100,[3,41,44,50,...|\n+---+-----+---------+--------------------+--------------------+--------------------+--------------------+\nonly showing top 20 rows\n\n\nmltest: org.apache.spark.sql.DataFrame = [id: int, label: double ... 5 more fields]\n"},"text":"import org.apache.spark.ml.linalg.Vector\n\nval mlf = featurize(training.toDS)\nmlf.show\n\nval mltest = featurize(test.toDS)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481790105456_-809319427","id":"20161215-092145_930087036","dateCreated":"2016-12-15T09:21:45+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1899","dateUpdated":"2016-12-15T09:21:56+0100","dateFinished":"2016-12-15T09:21:56+0100","dateStarted":"2016-12-15T09:21:56+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.mllib.feature.{HashingTF=>MLLibHashingTF}\n\nmllibHashingTF: org.apache.spark.mllib.feature.HashingTF = org.apache.spark.mllib.feature.HashingTF@47fdf0cb\n\nmllibFeaturize: (s: String)org.apache.spark.mllib.linalg.Vector\n"},"text":"import org.apache.spark.mllib.feature.{HashingTF => MLLibHashingTF}\n\nval mllibHashingTF = new MLLibHashingTF(100)\n\ndef mllibFeaturize(s: String) = {\n    mllibHashingTF.transform(s.sliding(2).toSeq)\n}"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481790116567_-2029358189","id":"20161215-092156_817811149","dateCreated":"2016-12-15T09:21:56+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1979","dateUpdated":"2016-12-15T09:22:03+0100","dateFinished":"2016-12-15T09:22:04+0100","dateStarted":"2016-12-15T09:22:04+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.mllib.linalg.{Vector=>MLLibVector}\n\nmllibf: org.apache.spark.sql.DataFrame = [id: int, label: double ... 3 more fields]\n+---+-----+---------+--------------------+--------------------+\n| id|label|sentiment|                text|            features|\n+---+-----+---------+--------------------+--------------------+\n|  1|  0.0| NEGATIVE|is so sad for my ...|(100,[3,4,9,14,15...|\n|  2|  0.0| NEGATIVE|I missed the New ...|(100,[1,2,4,13,22...|\n|  3|  1.0| POSITIVE|omg its already 7...|(100,[2,4,8,13,15...|\n|  5|  0.0| NEGATIVE|i think mi bf is ...|(100,[2,11,13,20,...|\n|  6|  0.0| NEGATIVE|or i just worry t...|(100,[8,11,12,15,...|\n|  7|  1.0| POSITIVE|Juuuuuuuuuuuuuuuu...|(100,[4,8,11,13,1...|\n|  8|  0.0| NEGATIVE|Sunny Again      ...|(100,[7,11,15,16,...|\n|  9|  1.0| POSITIVE|handed in my unif...|(100,[4,8,11,13,1...|\n| 13|  0.0| NEGATIVE|this weekend has ...|(100,[0,3,17,19,2...|\n| 14|  0.0| NEGATIVE|jb isnt showing i...|(100,[2,8,13,15,1...|\n| 15|  0.0| NEGATIVE|ok thats it you win.|(100,[18,19,22,25...|\n| 16|  0.0| NEGATIVE|&lt;-------- This...|(100,[0,11,12,15,...|\n| 17|  0.0| NEGATIVE|\"    awhhe man......|(100,[3,4,8,9,13,...|\n| 18|  1.0| POSITIVE|Feeling strangely...|(100,[0,2,3,6,9,1...|\n| 19|  0.0| NEGATIVE|HUGE roll of thun...|(100,[8,10,11,12,...|\n| 20|  0.0| NEGATIVE|I just cut my bea...|(100,[1,2,3,4,8,9...|\n| 21|  0.0| NEGATIVE|Very sad about Iran.|(100,[3,4,8,15,18...|\n| 23|  1.0| POSITIVE|You're the only o...|(100,[2,3,6,7,8,9...|\n| 25|  0.0| NEGATIVE|...  Headed to Ho...|(100,[0,1,2,4,5,9...|\n| 26|  0.0| NEGATIVE|BoRinG   ): whats...|(100,[1,2,4,11,13...|\n+---+-----+---------+--------------------+--------------------+\nonly showing top 20 rows\n\n"},"text":"import org.apache.spark.mllib.linalg.{Vector => MLLibVector}\n\nval mllibf = training.map(\n    st => (st.id, st.label, st.sentiment, st.text, mllibFeaturize(st.text)))\n      .toDF(\"id\", \"label\", \"sentiment\", \"text\", \"features\")\nmllibf.show"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481790123988_-1970091534","id":"20161215-092203_19711181","dateCreated":"2016-12-15T09:22:03+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2056","dateUpdated":"2016-12-15T09:22:10+0100","dateFinished":"2016-12-15T09:22:10+0100","dateStarted":"2016-12-15T09:22:10+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.ml.classification.LogisticRegression\n\nlr: org.apache.spark.ml.classification.LogisticRegression = logreg_c31530cb125b\n"},"text":"import org.apache.spark.ml.classification.LogisticRegression\n\nval lr = new LogisticRegression()\n  .setMaxIter(10)\n//  .setRegParam(0.3)\n//  .setElasticNetParam(0.8)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481790130784_-1707476601","id":"20161215-092210_497802869","dateCreated":"2016-12-15T09:22:10+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2130","dateUpdated":"2016-12-15T09:22:18+0100","dateFinished":"2016-12-15T09:22:31+0100","dateStarted":"2016-12-15T09:22:18+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.mllib.util.MLUtils\n\nmodel: org.apache.spark.ml.classification.LogisticRegressionModel = logreg_c31530cb125b\n"},"text":"import org.apache.spark.mllib.util.MLUtils\n\nval model = lr.fit(MLUtils.convertVectorColumnsToML(mlf))"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481790138299_-1570490669","id":"20161215-092218_1066529972","dateCreated":"2016-12-15T09:22:18+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2204","dateUpdated":"2016-12-15T09:22:24+0100","dateFinished":"2016-12-15T09:22:31+0100","dateStarted":"2016-12-15T09:22:24+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"Coefficients: [-0.08823345065284634,0.009665235212387992,-0.10503051297249119,-0.044996078626875616,-0.008344060559565561,0.14185750291428392,-0.12632999939632938,0.0016963701687398183,0.031084907073177657,-0.04431615320303058,-0.10813596660583509,-0.030003484988232156,-0.33448337334808403,-0.06058181828431733,-0.07224253267395314,-0.04188120714920652,0.03539195386453801,0.07949651040405685,-0.018104673494546787,0.10059395515693802,-0.33269495977212465,0.005901653892203458,0.2549612419384759,-0.016722757579087026,-0.11135318347209631,0.022909494226081996,-0.14331741632761055,-0.4274999908326799,0.17337271293715842,-0.0512386959530083,0.1449230373048331,0.00795512813935571,-0.049623984809522056,-0.15633413956825798,0.07188693738138084,-0.02959167366899129,-0.21709249253762372,-0.14535416411316843,0.10555262182438452,0.05238925512819488,0.44903002463196157,0.2249700842580661,-0.05771853297663775,0.0711415586185546,0.05316433956167589,-0.10742942999635915,0.06721115368042399,-0.017735098475285618,-0.3174616426723043,0.05566584901545277,0.07976504883370127,0.06517512804781732,0.11885044360159903,-0.08955106837813374,0.028455517595739867,0.08838479180623701,-0.10313664447805104,0.10589416533483587,0.06096859781406161,0.06624213588672954,-0.025188655967837273,-0.08978992184855332,-0.2417892148404688,0.03074976410607317,-0.042777968718237344,0.009548588836554472,-0.023138193193412267,0.08766142103210199,0.2835034954012237,-0.23751261090296524,0.31620946912949,-0.348869996777457,-0.06378880688236288,0.007277426910557856,-0.01606058971266755,0.08535354780605461,0.09073399141418528,-0.15932491957628608,-0.17040315199969525,-0.0860646766031419,0.04983727099045917,-0.11888002581649351,-0.1427049252433262,0.15301943580138394,-0.12026087781084932,0.03324606406034991,-0.21365613041710124,0.18419922953148304,-0.07314869158084587,-0.13421765458473353,0.009624234805322313,-0.011302952012852266,0.11757639440298401,0.051451923595600704,0.07584996370863493,-0.1566196952890057,-0.08106053278759676,-0.08615393927677373,-0.023341950191158544,0.1362532225198402]\nIntercept: 0.14035938005199727\n"},"text":"println(s\"Coefficients: ${model.coefficients}\")\nprintln(s\"Intercept: ${model.intercept}\")"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481790144344_731462001","id":"20161215-092224_243542583","dateCreated":"2016-12-15T09:22:24+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2279","dateUpdated":"2016-12-15T09:22:33+0100","dateFinished":"2016-12-15T09:22:34+0100","dateStarted":"2016-12-15T09:22:33+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\ntrainingSummary: org.apache.spark.ml.classification.LogisticRegressionTrainingSummary = org.apache.spark.ml.classification.BinaryLogisticRegressionTrainingSummary@289eb90a\n0.6931466061992675\n0.6817142492857954\n0.6741575648098557\n0.674106068279654\n0.6739396721491351\n0.6738611079211596\n0.6737714342903778\n0.6737619246853868\n0.6737615055847793\n0.6737614407888636\n0.6737614406209202\n\nobjectiveHistory: Array[Double] = Array(0.6931466061992675, 0.6817142492857954, 0.6741575648098557, 0.674106068279654, 0.6739396721491351, 0.6738611079211596, 0.6737714342903778, 0.6737619246853868, 0.6737615055847793, 0.6737614407888636, 0.6737614406209202)\n"},"text":"val trainingSummary = model.summary\n\nval objectiveHistory = trainingSummary.objectiveHistory\nobjectiveHistory.foreach(loss => println(loss))"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481790153433_998123637","id":"20161215-092233_1054812323","dateCreated":"2016-12-15T09:22:33+0100","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2357","dateUpdated":"2016-12-15T09:22:43+0100","text":""}],"name":"08.2","id":"2C3GN8S2F","angularObjects":{"2BXV59BJ5:shared_process":[],"2BZ7JWBYX:shared_process":[],"2BYKQAFE3:shared_process":[],"2BXX92DZZ:shared_process":[],"2BY8191PX:shared_process":[],"2C242HAW7:shared_process":[],"2BXRBYBNN:shared_process":[],"2C1F64B57:shared_process":[],"2BXESURSJ:shared_process":[],"2BZSUGKDS:shared_process":[],"2C26Y211G:shared_process":[],"2C1URPXW3:shared_process":[],"2BZN774H8:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}