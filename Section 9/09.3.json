{"paragraphs":[{"text":"System.setProperty(\"twitter4j.oauth.consumerKey\", \"CJ63hFzuu3KLovHt8LmFMw\")\nSystem.setProperty(\"twitter4j.oauth.consumerSecret\", \"2W373bWM1Oca9zyDk38qeUoVamdJ78ZMfexq6mQsLb8\")\nSystem.setProperty(\"twitter4j.oauth.accessToken\", \"101229446-5qSO2hRsVfjO3nhopQGFT4FjPpb2XmBGDAHkxBg\")\nSystem.setProperty(\"twitter4j.oauth.accessTokenSecret\", \"D7TDqjm1TBpjF1Gs6OmIhWDC13WQJrLM86SoSznH8SQ\")","dateUpdated":"2016-12-16T17:25:09+0100","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481904638083_1937349022","id":"20161216-162258_2071776885","result":{"code":"SUCCESS","type":"TEXT","msg":"\nres0: String = null\n\nres1: String = null\n\nres2: String = null\n\nres3: String = null\n"},"dateCreated":"2016-12-16T17:10:38+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:121","dateFinished":"2016-12-16T17:25:16+0100","dateStarted":"2016-12-16T17:25:09+0100"},{"text":"import org.apache.spark.mllib.clustering.StreamingKMeans\nimport org.apache.spark.mllib.feature.StandardScaler\nimport org.apache.spark.mllib.linalg.{Vector, Vectors}\nimport org.apache.spark.streaming.twitter.TwitterUtils\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\nimport twitter4j.Status\n\nval ssc = new StreamingContext(sc, Seconds(5))\n\nval stream = TwitterUtils.createStream(ssc, None)","dateUpdated":"2016-12-16T17:25:18+0100","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481904638086_1936194775","id":"20161216-162336_1357546150","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.mllib.clustering.StreamingKMeans\n\nimport org.apache.spark.mllib.feature.StandardScaler\n\nimport org.apache.spark.mllib.linalg.{Vector, Vectors}\n\nimport org.apache.spark.streaming.twitter.TwitterUtils\n\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\n\nimport twitter4j.Status\n\nssc: org.apache.spark.streaming.StreamingContext = org.apache.spark.streaming.StreamingContext@77b1fd6\n\nstream: org.apache.spark.streaming.dstream.ReceiverInputDStream[twitter4j.Status] = org.apache.spark.streaming.twitter.TwitterInputDStream@663bc6e2\n"},"dateCreated":"2016-12-16T17:10:38+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:122","dateFinished":"2016-12-16T17:25:19+0100","dateStarted":"2016-12-16T17:25:18+0100","focus":true},{"text":"def printCenters(kmeans: StreamingKMeans) = {\n  val centers = kmeans.latestModel.clusterCenters\n  println(\"centers:\")\n  centers.map(println)\n}","dateUpdated":"2016-12-16T17:25:34+0100","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481904638087_1935810026","id":"20161216-162344_42788732","result":{"code":"SUCCESS","type":"TEXT","msg":"\nprintCenters: (kmeans: org.apache.spark.mllib.clustering.StreamingKMeans)Array[Unit]\n"},"dateCreated":"2016-12-16T17:10:38+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:123","dateFinished":"2016-12-16T17:25:34+0100","dateStarted":"2016-12-16T17:25:34+0100","focus":true},{"text":"val model = new StreamingKMeans()\n  .setK(3)\n  .setHalfLife(5, \"batches\")\n  .setRandomCenters(2, 0.0)","dateUpdated":"2016-12-16T17:25:40+0100","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481904638087_1935810026","id":"20161216-162349_2047972192","dateCreated":"2016-12-16T17:10:38+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:124","dateFinished":"2016-12-16T17:25:40+0100","dateStarted":"2016-12-16T17:25:40+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\nmodel: org.apache.spark.mllib.clustering.StreamingKMeans = org.apache.spark.mllib.clustering.StreamingKMeans@5e25e8c5\n"},"focus":true},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481905540409_117738489","id":"20161216-172540_467332957","dateCreated":"2016-12-16T17:25:40+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:518","dateUpdated":"2016-12-16T17:25:45+0100","dateFinished":"2016-12-16T17:25:46+0100","dateStarted":"2016-12-16T17:25:45+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\ndata: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] = org.apache.spark.streaming.dstream.FilteredDStream@4326cf91\n"},"text":"val data = stream.filter(s => (\n  s.isRetweet\n))"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481905545874_637164828","id":"20161216-172545_842695337","dateCreated":"2016-12-16T17:25:45+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:592","dateUpdated":"2016-12-16T17:25:53+0100","dateFinished":"2016-12-16T17:25:53+0100","dateStarted":"2016-12-16T17:25:53+0100","result":{"code":"SUCCESS","type":"TEXT","msg":""},"text":"data.foreachRDD { rdd =>\n\n  if (rdd.count > 0) {\n\n  def featurize(status: Status): Vector = {\n    val s = status.getRetweetedStatus\n    Vectors.dense(\n      s.getRetweetCount.toDouble,\n      s.getUser.getFollowersCount.toDouble\n    )\n  }\n\n  val f = rdd.map(featurize)\n\n  val scaledData = new StandardScaler(false, true)\n    .fit(f)\n    .transform(f)\n\n  model\n    .latestModel\n    .update(scaledData, model.decayFactor, model.timeUnit)\n\n  val fitted = model.latestModel.predict(scaledData).collect\n\n  printCenters(model)\n\n  }\n\n}"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481905553009_-1775226099","id":"20161216-172553_206638158","dateCreated":"2016-12-16T17:25:53+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:672","dateUpdated":"2016-12-16T17:25:59+0100","dateFinished":"2016-12-16T17:26:09+0100","dateStarted":"2016-12-16T17:25:59+0100","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport java.util.concurrent.TimeUnit\n\nres6: Boolean = false\ncenters:\n[-2.6426082860847306,-0.9382708994594353]\n[0.5310858477715864,0.8000277865603126]\n[0.785217464395232,-1.0955326257487592]\n\nres7: Array[Unit] = Array((), (), ())\n"},"text":"import java.util.concurrent.TimeUnit\n\nssc.start()\nssc.awaitTerminationOrTimeout(TimeUnit.SECONDS.toMillis(10))\nprintCenters(model)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1481905559576_-6904830","id":"20161216-172559_137210415","dateCreated":"2016-12-16T17:25:59+0100","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:746","dateUpdated":"2016-12-16T17:26:09+0100","text":""}],"name":"09.3","id":"2C4Q6TYKD","angularObjects":{"2BXV59BJ5:shared_process":[],"2BZ7JWBYX:shared_process":[],"2BYKQAFE3:shared_process":[],"2BXX92DZZ:shared_process":[],"2BY8191PX:shared_process":[],"2C242HAW7:shared_process":[],"2BXRBYBNN:shared_process":[],"2C1F64B57:shared_process":[],"2BXESURSJ:shared_process":[],"2BZSUGKDS:shared_process":[],"2C26Y211G:shared_process":[],"2C1URPXW3:shared_process":[],"2BZN774H8:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}